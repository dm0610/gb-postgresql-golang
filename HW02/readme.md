Практические задания

<p>1. Добавить ограничения foreign keys для всех имеющихся связей между таблицами в БД, созданной в первом занятии. Ограничения можно добавлять как в существующую таблицу (используя alter), так и изменив команду создания таблиц из прошлого урока. Команды на добавление ограничений описать в файле schema.sql (редактировать файл из прошлого урока).
<p> Ответ:

```
CREATE TABLE projects (
    id BIGINT generated BY DEFAULT AS IDENTITY,
    title TEXT NOT NULL,
    owner_email  TEXT NOT NULL UNIQUE,
    CONSTRAINT projects_id_pkey PRIMARY KEY (id)
);

CREATE TABLE services (
    id BIGINT generated BY DEFAULT AS IDENTITY,
    service_title TEXT NOT NULL UNIQUE,
    service_address TEXT NOT NULL UNIQUE,
    service_techuser TEXT NOT NULL UNIQUE,
    service_passwd TEXT NOT NULL UNIQUE,
    CONSTRAINT services_id_pkey PRIMARY KEY (id)
);

CREATE TABLE instances (
 id BIGINT generated BY DEFAULT AS IDENTITY,
 service_id BIGINT NOT NULL UNIQUE,
 instance_name TEXT NOT NULL UNIQUE,
 instance_expire_time TEXT NOT NULL UNIQUE,
 project_id BIGINT NOT NULL UNIQUE,
 CONSTRAINT instances_fk_service_id FOREIGN KEY (service_id) REFERENCES services(id) ON DELETE RESTRICT,
 CONSTRAINT instances_fk_project_id FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE RESTRICT,
);
```
<p>2. Выявить необходимые ограничения (constraints) и добавить их в структуру базы данных. Примером может быть ограничение на неотрицательность з/п. Как и в пункте 1, делайте это в файле schema.sql.

<p> Ответ:

```
Добавил ограничения в структуру базы. Добавил ограничения на id primary-keys и на foreign-keys
```
<p>3. Подготовить набор данных для вашей базы. Не обязательно много, главное покрыть возможные примеры использования вашей базы. Описать запросы на добавление данных в data.sql файле.

<p>4. Оценить объём занимаемого места. Представить в виде отчёта по каждой таблице в вашей базе в текстовом файле size_report.txt. В отчёте указать:
список таблиц; 
количество строк в каждой таблице в соответствии со статистикой, которую собирает Postgres;
объём диска, занимаемого каждой таблицей;
общий объём диска, занимаемого экземпляром Postgres.
